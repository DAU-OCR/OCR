# 작업 진행 상황 요약 (2025-10-14)

## 1. 완료된 작업: 안정적인 실행 파일 빌드

- **`pyinstaller` 빌드 오류 해결:**
    - `IndentationError`: `app.py`의 코드 들여쓰기 오류를 수정했습니다.
    - `AttributeError` (`'Tensor' object has no attribute 'xyxy'` 및 `'tuple' object has no attribute 'xyxy'`): `pyinstaller`로 빌드된 실행 파일 환경에서 YOLOv5 모델의 `AutoShape` 기능이 비정상적으로 동작하는 문제를 해결했습니다. 이미지 전처리 및 후처리(NMS)를 수동으로 수행하도록 `detect_plate` 함수를 재작성하여 문제를 해결했습니다.
    - `_pickle.UnpicklingError`: 최신 PyTorch 버전의 보안 정책 변경으로 인해 모델 로딩이 실패하는 문제를 `weights_only=False` 옵션을 추가하여 해결했습니다.

- **사용자 경험(UX) 개선:**
    - **cmd 창 숨기기:** Electron 앱이 백엔드 서버를 실행할 때 나타나는 검은색 콘솔 창이 보이지 않도록 `electron.cjs` 파일을 수정했습니다.
    - **로그 제거:** 최종 버전에 불필요한 서버 충돌 로그 파일 생성 및 Flask 디버그 모드 등 로그 관련 코드를 `app.py`와 `electron.cjs`에서 제거했습니다.

## 2. 현재 논의 중인 이슈: 결과 선택 로직 개선

- **문제점:** 현재 로직은 유효한 번호판 형식의 결과 중 **신뢰도(confidence)가 가장 높은 것**을 선택합니다. 이로 인해, 신뢰도가 약간 낮더라도 실제 정답인 다른 결과를 선택하지 않는 경우가 발생합니다. (예: `모델1`이 정답이지만, 신뢰도가 더 높은 `모델3`이 선택되는 경우)

- **제안된 해결책:** `모델1`의 결과에 가중치를 부여하여, `모델1`의 결과가 유효한 번호판 형식이기만 하면 다른 모델의 신뢰도와 관계없이 우선적으로 채택하는 방안을 제안했습니다.

## 3. 다음 단계

- `app.py`의 `apply_plate_selection_logic` 함수에 위 제안된 해결책(모델1 우선 선택 로직)을 적용합니다.
- 최종 로직 수정 후, 백엔드와 프론트엔드를 다시 빌드하여 최종 테스트를 진행합니다.
